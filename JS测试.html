<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var ListNode = function (val) {
            this.val = val;
            this.next = null;
        }
        let node1 = new ListNode(1);
        let node2 = new ListNode(2);
        let node3 = new ListNode(3);
        let node4 = new ListNode(4);
        let node5 = new ListNode(5);
        let node6 = new ListNode(6);
        let node7 = new ListNode(7);
        let node8 = new ListNode(8);
        let node9 = new ListNode(9);
        let node10 = new ListNode(10);
        let node11 = new ListNode(11);
        let node12 = new ListNode(12);
        let node13=new ListNode(13);
        node1.next = node2;
        node2.next = node3;
        node3.next = node4;
        node4.next = node5;
        node5.next = node6;
        node6.next = node7;
        node7.next = node8;
        node8.next = node9;
        node9.next = node10;
        node10.next = node11;
        node11.next = node12;
        node12.next=node13;
        node13.next=node9;

        var getLength = function (head) {
            let len = 0;
            let cur = head;
            while (cur) {
                cur = cur.next;
                len++;
            }
            return len;
        }
        //环形链表无法计算长度
        //console.log(getLength(node1));
        var detectCycle = function (head) {
            if (!head) return null;
            if (!head.next) return null;
            let slow = head.next;
            let fast = head.next.next;
            while (fast && fast.next) {
                slow = slow.next;
                fast = fast.next.next;
                if (fast == slow) {
                    console.log(slow);
                    slow = head;
                    while (fast !== slow) {
                        slow = slow.next;
                        fast = fast.next;
                    }
                    return slow;
                }
            }
            return "sorry";

        };
        console.log(detectCycle(node1));

        var a=15,b=12;
        function fn(){
            console.log(a,b);
            var a=b=13;
            console.log(a,b);
        }
        fn();
        console.log(a,b);
        

        ~function(){
            function call(context){
                let args=[],result;
                for(let i=1;i<arguments.length;i++){
                    args.push(arguments[i]);
                }
                context.fn=this;
                result=context.fn(...args);
                delete context.fn;
                return result;
            }
        }();
    </script>
</body>

</html>